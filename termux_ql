sed -i 's/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g' /etc/apk/repositories
apk add --update npm     
apk add --update nodejs npm
apk update -f
apk upgrade
apk --no-cache add -f bash coreutils
apk --no-cache add -f bash moreutils
apk --no-cache add -f bash git
apk --no-cache add -f bash curl
apk --no-cache add -f bash wget
apk --no-cache add -f bash tzdata
apk --no-cache add -f bash perl
apk --no-cache add -f bash openssl
apk --no-cache add -f bash nginx
apk --no-cache add -f bash python3
apk --no-cache add -f bash jq
apk --no-cache add -f bash openssh
apk --no-cache add -f bash py3-pip
apk --no-cache add -f bash python2
apk --no-cache add -f bash g++
apk --no-cache add -f bash make
rm -rf /var/cache/apk/*
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
echo "Asia/Shanghai" > /etc/timezone
touch ~/.bashrc
git clone -b master https://ghproxy.com/https://github.com/whyour/qinglong.git /ql
git config --global user.email "qinglong@@users.noreply.github.com"
git config --global user.name "qinglong"
cd /ql
cp -f .env.example .env
chmod 777 /ql/shell/*.sh
chmod 777 /ql/docker/*.sh
npm install -g pnpm
pnpm install -g pm2
pnpm install -g ts-node typescript tslib
rm -rf /root/.npm
pnpm install --prod
rm -rf /root/.pnpm-store
rm -rf /root/.pnpm-store
git clone -b master https://ghproxy.com/https://github.com/whyour/qinglong-static.git /static
cp -rf /static/* /ql
rm -rf /static
bash /ql/docker/docker-entrypoint.sh
